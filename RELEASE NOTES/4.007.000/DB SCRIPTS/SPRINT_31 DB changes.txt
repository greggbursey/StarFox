ALTER TABLE TBL_BOOKMARK_TYPES ADD TYPE_OTHER VARCHAR2(250) DEFAULT '';


ALTER TABLE SCOUT.TBL_USERS
ADD PACKAGE_LEVEL_ID NUMBER(10,0) DEFAULT -1 NOT NULL;

DELETE FROM SCOUT.TBL_USERS U 
WHERE U.USERNAME IN ('dcavin@buxtonco.com', 'nexus', 'fmoreno@buxtonco.com');

DELETE FROM SCOUT.TBL_USERS U
WHERE U.PASSWORD IS NULL;

DROP TABLE SCOUT.TBL_DID_YOU_KNOW;
CREATE TABLE SCOUT.TBL_DID_YOU_KNOW
(
       DID_YOU_KNOW_ID NUMBER(10,0) GENERATED ALWAYS AS IDENTITY (START WITH 100000 INCREMENT BY 1) NOT NULL PRIMARY KEY,
       DID_YOU_KNOW_NAME VARCHAR(250) NOT NULL,
       HTML CLOB NOT NULL,
       AREA VARCHAR(150) DEFAULT 'PLATFORM' NOT NULL,       
       PRIORITY_INDEX NUMBER(10,0) NULL,
       MODIFIED_DT DATE NOT NULL,
       FEATURE_ID NUMBER(10,0) NULL,
       TAG1 VARCHAR(200) NULL,
        TAG2 VARCHAR(200) NULL,
        TAG3 VARCHAR(200) NULL,
        TAG4 VARCHAR(200) NULL,
        TAG5 VARCHAR(200) NULL
);


DROP TABLE SCOUT.TBL_DID_YOU_KNOW_STEPS;
CREATE TABLE SCOUT.TBL_DID_YOU_KNOW_STEPS
(
       DID_YOU_KNOW_ID NUMBER(10,0) NOT NULL,
       STEP_NUMBER NUMBER(10,0) NOT NULL,
       JAVASCRIPT_SELECTOR VARCHAR(250) NOT NULL,
       HTML CLOB NOT NULL,
       TITLE VARCHAR(250) NOT NULL,
       ALLOW_NEXT_ON_CLICK VARCHAR(1) DEFAULT 'Y' NOT NULL,
       MODIFIED_DT DATE NOT NULL
);

DROP TABLE SCOUT.TBL_USER_PREFERENCES;
CREATE TABLE SCOUT.TBL_USER_PREFERENCES
(
       USER_ID NUMBER(10,0) NOT NULL UNIQUE,
       CAN_EMAIL VARCHAR(1) DEFAULT 'Y' NOT NULL,
       CAN_SHOW_DID_YOU_KNOW VARCHAR(1) DEFAULT 'Y' NOT NULL,
       CAN_SEND_SMS VARCHAR(1) DEFAULT 'Y' NOT NULL,
       MODIFIED_DT DATE NOT NULL
);


DROP TABLE SCOUT.TBL_JOB_GROUPS;
CREATE TABLE SCOUT.TBL_JOB_GROUPS
(
       JOB_EXECUTION_LEVEL_ID NUMBER(10,0) GENERATED BY DEFAULT AS IDENTITY (START WITH 1000 INCREMENT BY 1) NOT NULL PRIMARY KEY,
       GROUP_NM VARCHAR(100) NOT NULL,
       GROUP_DESCRIPTION VARCHAR(250) NULL,
       MODIFIED_DT DATE
);



UPDATE SCOUT.TBL_MODULES2 M SET M.JOB_EXECUTION_LEVEL_ID = 106 WHERE M.MODULE_ID = 235;

ALTER TABLE SCOUT.TBL_STORE_TYPES
ADD GROUP_NM VARCHAR(250) DEFAULT 'Not Grouped';

--Gregg
ALTER TABLE SCOUT.TBL_COMPANIES
ADD GP_CUSTOMER_NUM VARCHAR2(20) NULL;
--
ALTER TABLE SCOUT.TBL_COMPANIES
ADD CONTRACT_DT DATE NULL;
--
ALTER TABLE SCOUT.TBL_COMPANIES
ADD CTR_NUM VARCHAR2(20) NULL;
--
ALTER TABLE SCOUT.TBL_COMPANIES
ADD NOTES CLOB NULL;
--
UPDATE SCOUT.TBL_COMPANIES C
SET C.CONTRACT_DT = C.EXPIRE_DT;

---- FOR SPRINT 31 ADD CID TO TBL_BOOKMARKS
ALTER TABLE SCOUT.TBL_BOOKMARKS
ADD CID NUMBER(10,0) DEFAULT -1 NOT NULL;

---- UPDATE EXISTING VALUES TO CURRENT CID
MERGE INTO SCOUT.TBL_BOOKMARKS B
USING SCOUT.TBL_USERS U
ON (B.CREATED_BY_USER_ID = U.USER_ID)
WHEN MATCHED THEN UPDATE SET B.CID = U.CID;


--Emery
alter table tbl_companies ADD IMG_LOGO_NM CLOB;
alter table tbl_companies ADD IMG_LOGO_NM_SM CLOB;
UPDATE TBL_COMPANIES SET IMG_LOGO_NM = IMAGE_LOGO_NM;
UPDATE TBL_COMPANIES SET IMG_LOGO_NM_SM = IMAGE_LOGO_NM_SM;
ALTER TABLE TBL_COMPANIES DROP COLUMN IMAGE_LOGO_NM;
ALTER TABLE TBL_COMPANIES DROP COLUMN IMAGE_LOGO_NM_SM;
ALTER TABLE TBL_COMPANIES RENAME COLUMN IMG_LOGO_NM TO IMAGE_LOGO_NM;
ALTER TABLE TBL_COMPANIES RENAME COLUMN IMG_LOGO_NM_SM TO IMAGE_LOGO_NM_SM;

INSERT INTO SCOUT.TBL_FEATURES (FEATURE_NM, FEATURE_DESC, IS_ACTIVE, FORCE_FEATURE, CREATED_DT)
VALUES('SCOUT_COMPANY_MANAGEMENT', 'Scout Dashboard Company Management', 'N', 'N', SYSDATE);

ALTER TABLE TBL_USERS ADD PROFILE_IMAGE CLOB;
